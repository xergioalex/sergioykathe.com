import{j as g,l as b,q,ai as D,_ as H,H as L,v as O,k as _,w as v,z as E,A as k,B as N,aj as j,x as B,ak as F,Y as p,X as w,al as z,ae as C}from"./template.LJwQLpMB.js";function P(i,l,[r,a]=[0,0]){b&&r===0&&q();var f=i,s=null,t=null,c=j,S=r>0?D:0,e=!1;const h=(n,u=!0)=>{e=!0,A(u,n)},A=(n,u)=>{if(c===(c=n))return;let I=!1;if(b&&a!==-1){if(r===0){const T=f.data;T===H?a=0:T===L?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const Y=a>r;!!c===Y&&(f=O(),_(f),v(!1),I=!0,a=-1)}c?(s?E(s):u&&(s=k(()=>u(f))),t&&N(t,()=>{t=null})):(t?E(t):u&&(t=k(()=>u(f,[r+1,a]))),s&&N(s,()=>{s=null})),I&&v(!0)};g(()=>{e=!1,l(h),e||A(null,null)},S),b&&(f=B)}function R(i,l){return i===l||i?.[C]===l}function U(i={},l,r,a){return F(()=>{var f,s;return p(()=>{f=s,s=[],w(()=>{i!==r(...s)&&(l(i,...s),f&&R(r(...f),i)&&l(null,...f))})}),()=>{z(()=>{s&&R(r(...s),i)&&l(null,...s)})}}),i}export{U as b,P as i};
