import{aD as p,j as H,aE as I,g as S,H as g,X as l,s as R,a as L,d as f,a0 as O,e as V,aF as b,T as M,M as Y,aG as j,aH as N,aI as x,aJ as c,K as C,c as P,p as $,h as m,f as k,Q as z,z as F,at as G}from"./template.BeL5O7W-.js";const J=["touchstart","touchmove"];function K(e){return J.includes(e)}function X(e,a){var t=null==a?"":"object"==typeof a?a+"":a;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=null==t?"":t+"")}function Q(e,a){return A(e,a)}function q(e,a){p(),a.intro=a.intro??!1;const t=a.target,n=m,s=f;try{for(var r=H(t);r&&(8!==r.nodeType||r.data!==I);)r=S(r);if(!r)throw g;l(!0),R(r),L();const n=A(e,{...a,anchor:r});if(null===f||8!==f.nodeType||f.data!==O)throw V(),g;return l(!1),n}catch(n){if(n===g)return!1===a.recover&&b(),p(),M(t),l(!1),Q(e,a);throw n}finally{l(n),R(s)}}const d=new Map;function A(e,{target:a,anchor:t,props:n={},events:s,context:r,intro:o=!0}){p();var i=new Set,l=e=>{for(var t=0;t<e.length;t++){var n=e[t];if(!i.has(n)){i.add(n);var s=K(n);a.addEventListener(n,c,{passive:s});var r=d.get(n);void 0===r?(document.addEventListener(n,c,{passive:s}),d.set(n,1)):d.set(n,r+1)}}};l(Y(j)),N.add(l);var v=void 0,u=x((()=>{var o=t??a.appendChild(C());return P((()=>{r&&($({}),G.c=r);s&&(n.$$events=s),m&&k(o,null),v=e(o,n)||{},m&&(z.nodes_end=f),r&&F()})),()=>{for(var e of i){a.removeEventListener(e,c);var n=d.get(e);0==--n?(document.removeEventListener(e,c),d.delete(e)):d.set(e,n)}N.delete(l),o!==t&&o.parentNode?.removeChild(o)}}));return E.set(v,u),v}let E=new WeakMap;function B(e,a){const t=E.get(e);return t?(E.delete(e),t(a)):Promise.resolve()}export{q as h,Q as m,X as s,B as u};