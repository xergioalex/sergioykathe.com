import{o as K,i as W}from"./index-client.C1THjZ6J.js";import{p as Z,S as f,a as y,b as $,h as C,g as a,s as o,d as n,m as p,e as s,r as i,T as aa,t as ea,n as ta,U as ra,V as oa}from"./template.DVlVoHZ-.js";import{i as F,b as sa}from"./this.D6TLyT_x.js";import{r as G}from"./attributes.DwzAJNNv.js";import{b as M}from"./input.BUXY2MnG.js";import{a as Q}from"./analytics.DfSQxh5K.js";import"./attributes.Jce5emvo.js";var ia=oa('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Enviando...',1),na=C('<form class="space-y-4"><div><label for="songName" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Nombre de la CanciÃ³n</label> <input type="text" id="songName" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-gray-700 dark:text-white" placeholder="Ej: Amor Eterno"></div> <div><label for="songArtist" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Artista</label> <input type="text" id="songArtist" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-gray-700 dark:text-white" placeholder="Ej: Juan Gabriel"></div> <div><label for="songNotes" class="block text-sm font-medium text-gray-700 dark:text-gray-300">Notas adicionales o link</label> <textarea id="songNotes" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary dark:bg-slate-800 dark:border-gray-700 dark:text-white resize-none" rows="3" placeholder="Ej: Link de YouTube o algÃºn comentario sobre la canciÃ³n">\n            </textarea></div> <div class="flex justify-center"><button type="submit" class="btn btn-primary"><!></button></div></form>'),la=C('<div class="text-center space-y-6"><div class="space-y-2"><span class="text-5xl">ðŸŽµ</span> <h4 class="text-xl font-semibold text-primary">Â¡Gracias por tu sugerencia!</h4> <p class="text-gray-600 dark:text-gray-400">Tu canciÃ³n ha sido agregada a nuestra lista de reproducciÃ³n.</p></div> <div class="flex gap-4 justify-center"><button type="button" class="btn btn-secondary">Agregar otra canciÃ³n</button> <button type="button" class="btn btn-primary">Cerrar</button></div></div>'),da=C('<dialog class="hidden bg-transparent p-0 backdrop:bg-black backdrop:bg-opacity-50 [&amp;[open]]:flex items-center justify-center w-full h-full fixed inset-0 svelte-k3kgo8"><div role="dialog" aria-labelledby="modal-title" aria-modal="true" class="bg-white rounded-lg w-full max-w-[600px] mx-0 sm:mx-4 max-h-[90vh] overflow-hidden dark:bg-slate-900"><div class="p-4 border-b flex justify-between items-center"><h3 id="modal-title" class="text-lg font-semibold flex items-center gap-2"><span class="text-primary">ðŸŽµ</span> Sugerir canciones</h3> <button type="button" class="text-gray-500 hover:text-gray-700" aria-label="Cerrar diÃ¡logo">âœ•</button></div> <div class="p-6"><!></div></div></dialog>');function ya(e,t){Z(t,!1);let r=p(),l=p(""),d=p(""),c=p(""),m=p(!1),b=p(!1);const u="entry.242037522",g="entry.287920603",x="entry.1265334069";function v(){o(m,!1),h(),a(r)?.close()}function h(){o(m,!1),o(l,""),o(d,""),o(c,"")}async function k(e){e.preventDefault(),o(b,!0);try{const e=new FormData;e.append(u,a(l)),e.append(g,a(d)),e.append(x,a(c)),await fetch("https://docs.google.com/forms/d/e/1FAIpQLSfBNmQYetQjkbnGOfwhD6QB8CxhRkXTGr7oa9Y8XgRRdBGe8Q/formResponse",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(e)}),Q.capture("song_suggestion_submitted",{song_name:a(l),artist:a(d),has_notes:!!a(c)}),o(m,!0)}catch(e){console.error("Error al enviar el formulario:",e),Q.capture("song_suggestion_failed",{error:e.message,song_name:a(l),artist:a(d)})}finally{o(b,!1)}}K((()=>(document.addEventListener("openSongModal",(()=>{h(),a(r)?.showModal()})),()=>{document.removeEventListener("openSongModal",(()=>{a(r)?.showModal()}))}))),W();var w=da(),j=s(w),C=s(j),E=n(s(C),2);i(C);var N=n(C,2),S=s(N),T=e=>{var t=na(),r=s(t),m=n(s(r),2);G(m),i(r);var p=n(r,2),u=n(s(p),2);G(u),i(p);var g=n(p,2),x=n(s(g),2);aa(x),i(g);var v=n(g,2),h=s(v),w=s(h),j=a=>{var e=ia();ta(),y(a,e)},C=a=>{var e=ra("Enviar Sugerencia");y(a,e)};F(w,(e=>{a(b)?e(j):e(C,!1)})),i(h),i(v),i(t),ea((()=>h.disabled=a(b))),M(m,(()=>a(l)),(a=>o(l,a))),M(u,(()=>a(d)),(a=>o(d,a))),M(x,(()=>a(c)),(a=>o(c,a))),f("submit",t,k),y(e,t)},A=a=>{var e=la(),t=n(s(e),2),r=s(t),o=n(r,2);i(t),i(e),f("click",r,h),f("click",o,v),y(a,e)};F(S,(e=>{a(m)?e(A,!1):e(T)})),i(N),i(j),i(w),sa(w,(a=>o(r,a)),(()=>a(r))),f("click",E,v),f("click",w,(function(e){e.target===a(r)&&v()})),y(e,w),$()}export{ya as default};