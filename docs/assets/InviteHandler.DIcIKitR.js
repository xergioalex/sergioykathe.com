import{c as N,o as T,i as U}from"./index-client.BxaSsTI7.js";import{p as A,g as t,c as a,s as l,r as e,a as p,e as g,b as w,d as F,t as I,m as x,f as Y,n as Z,h as tt}from"./template.6NSSC91u.js";import{i as $,b as z}from"./this.Lf57jw7G.js";import{s as D}from"./render.DEvDVC7a.js";import{p as at}from"./props.DBII2CSq.js";var et=Z('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),st=I('<div class="space-y-6"><div class="text-center"><h4 class="text-xl font-semibold"> </h4> <p class="text-gray-600 dark:text-gray-400 mt-2"> </p></div> <form class="space-y-4"><div class="flex justify-center"><button type="submit" class="btn btn-primary"><!> </button></div></form></div>'),nt=I('<div class="text-center space-y-4"><span class="text-5xl">‚ú®</span> <h4 class="text-xl font-semibold">¬°Gracias por confirmar!</h4> <p class="text-gray-600 dark:text-gray-400"></p> <button class="btn btn-primary mt-4">Cerrar</button></div>'),it=I('<dialog class="hidden bg-transparent p-0 backdrop:bg-black backdrop:bg-opacity-50 [&amp;[open]]:flex items-center justify-center w-full h-full fixed inset-0 svelte-k3kgo8"><div class="bg-white rounded-lg w-full max-w-[600px] mx-4 dark:bg-slate-900"><div class="p-4 border-b flex justify-between items-center"><h3 class="text-lg font-semibold flex items-center gap-2"><span class="text-primary">üíå</span> Confirmar Asistencia</h3> <button class="text-gray-500">‚úï</button></div> <div class="p-6"><!></div></div></dialog>');function rt(s,n){A(n,!1);let i=at(n,"invite",8);const r=N();let o=x(),c=x(!1),d=x(!1),v=i().invitations;const m="entry.XXXXX",f="entry.XXXXX",u="entry.XXXXX";function b(){p(c,!1),t(o)?.close(),r("close")}async function y(t){t.preventDefault(),p(d,!0);try{const t=new FormData;t.append(m,i().name),t.append(f,i().invite),t.append(u,v.toString()),await fetch("TU_URL_DE_GOOGLE_FORMS",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t)}),p(c,!0)}catch(t){console.error("Error al enviar el formulario:",t)}finally{p(d,!1)}}T((()=>{t(o)?.showModal()})),U();var h=it(),k=a(h),X=a(k),j=l(a(X),2);e(X);var C=l(X,2),I=a(C),S=s=>{var n=st(),r=a(n),o=a(r),c=a(o);e(o);var p=l(o,2),v=a(p);e(p),e(r);var m=l(r,2),f=a(m),u=a(f),x=a(u),b=t=>{var a=et();w(t,a)};$(x,(a=>{t(d)&&a(b)}));var h=l(x);e(u),e(f),e(m),e(n),Y((()=>{D(c,`¬°Hola ${i().name??""}!`),D(v,`Tienes ${i().invitations??""}\n              ${(1===i().invitations?"invitaci√≥n":"invitaciones")??""} para nuestro evento`),u.disabled=t(d),D(h,` ${(t(d)?"Enviando...":"Confirmar Asistencia")??""}`)})),g("submit",m,y),w(s,n)},E=t=>{var s=nt(),n=l(a(s),4);n.textContent=`Has confirmado la asistencia de ${v??""}\n            ${(1===v?"persona":"personas")??""}`;var i=l(n,2);e(s),g("click",i,b),w(t,s)};$(I,(a=>{t(c)?a(E,!1):a(S)})),e(C),e(k),e(h),z(h,(t=>p(o,t)),(()=>t(o))),g("click",j,b),g("click",h,(({target:a})=>a===t(o)&&b())),w(s,h),F()}var ot=I('<dialog class="hidden bg-transparent p-0 backdrop:bg-black backdrop:bg-opacity-50 [&amp;[open]]:flex items-center justify-center w-full h-full fixed inset-0 svelte-13t4ywx"><div class="bg-white rounded-lg w-full max-w-[600px] mx-4 dark:bg-slate-900"><div class="p-4 border-b flex justify-between items-center"><h3 class="text-lg font-semibold flex items-center gap-2"><span class="text-primary">‚ÑπÔ∏è</span> Informaci√≥n</h3> <button class="text-gray-500">‚úï</button></div> <div class="p-6"><div class="text-center space-y-4"><h4 class="text-xl font-semibold">Invitaci√≥n no encontrada</h4> <p class="text-gray-600 dark:text-gray-400">Para confirmar tu asistencia, debes usar el enlace de invitaci√≥n que se te ha proporcionado.</p> <p class="text-gray-600 dark:text-gray-400">Si a√∫n no cuentas con uno, por favor comun√≠cate con Sergio o Katherine para solicitar una invitaci√≥n.</p> <button class="btn btn-primary mt-4">Entendido</button></div></div></div></dialog>');function lt(s,n){A(n,!1);const i=N();let r=x();function o(){t(r)?.close(),i("close")}T((()=>{t(r)?.showModal()})),U();var c=ot(),d=a(c),v=a(d),m=l(a(v),2);e(v);var f=l(v,2),u=a(f),b=l(a(u),6);e(u),e(f),e(d),e(c),z(c,(t=>p(r,t)),(()=>t(r))),g("click",m,o),g("click",b,o),g("click",c,(({target:a})=>a===t(r)&&o())),w(s,c),F()}var ct=I('<button type="button" class="btn btn-primary w-full sm:w-auto"><span class="flex items-center justify-center">Confirmar Asistencia <span class="ml-2">‚Üí</span></span></button> <!> <!>',1);function bt(a,e){A(e,!1);let s=x(),n=x(!1),i=x(!1);async function r(){const a=await async function(){try{return(await(await fetch("/data/invites.json")).json()).invites}catch(t){return console.error("Error loading invites:",t),[]}}(),e=new URLSearchParams(window.location.search);console.log("--- params ---"),console.log(e);const n=e.get("invite");p(s,a.find((t=>t.invite===n))),console.log("--- invite ---"),console.log(t(s))}T((()=>{r()})),U();var o=ct(),c=tt(o),d=l(c,2),v=a=>{rt(a,{get invite(){return t(s)},$$events:{close:()=>p(n,!1)}})};$(d,(a=>{t(n)&&t(s)&&a(v)}));var m=l(d,2),f=t=>{lt(t,{$$events:{close:()=>p(i,!1)}})};$(m,(a=>{t(i)&&a(f)})),g("click",c,(function(){t(s)?p(n,!0):p(i,!0)})),w(a,o),F()}export{bt as default};