import{au as p,w as S,av as x,A as I,aw as g,o as l,s as A,m as L,q as f,x as O,ax as V,ay as b,j as C,a as H,az as Y,aA as R,aB as j,aC as c,c as B,d as M,B as P,h as m,as as $,e as k,D as q,an as z}from"./template.Br768ZXS.js";const W=["touchstart","touchmove"];function F(e){return W.includes(e)}function K(e,a){var t=null==a?"":"object"==typeof a?a+"":a;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=null==t?"":t+"")}function G(e,a){return N(e,a)}function Q(e,a){p(),a.intro=a.intro??!1;const t=a.target,n=m,s=f;try{for(var r=S(t);r&&(8!==r.nodeType||r.data!==x);)r=I(r);if(!r)throw g;l(!0),A(r),L();const n=N(e,{...a,anchor:r});if(null===f||8!==f.nodeType||f.data!==O)throw V(),g;return l(!1),n}catch(n){if(n===g)return!1===a.recover&&b(),p(),C(t),l(!1),G(e,a);throw n}finally{l(n),A(s)}}const d=new Map;function N(e,{target:a,anchor:t,props:n={},events:s,context:r,intro:o=!0}){p();var v=new Set,i=e=>{for(var t=0;t<e.length;t++){var n=e[t];if(!v.has(n)){v.add(n);var s=F(n);a.addEventListener(n,c,{passive:s});var r=d.get(n);void 0===r?(document.addEventListener(n,c,{passive:s}),d.set(n,1)):d.set(n,r+1)}}};i(H(Y)),R.add(i);var l=void 0,u=j((()=>{var o=t??a.appendChild(B());return M((()=>{r&&(P({}),z.c=r);s&&(n.$$events=s),m&&$(o,null),l=e(o,n)||{},m&&(k.nodes_end=f),r&&q()})),()=>{for(var e of v){a.removeEventListener(e,c);var n=d.get(e);0==--n?(document.removeEventListener(e,c),d.delete(e)):d.set(e,n)}R.delete(i),o!==t&&o.parentNode?.removeChild(o)}}));return w.set(l,u),l}let w=new WeakMap;function U(e,a){const t=w.get(e);return t?(w.delete(e),t(a)):Promise.resolve()}export{Q as h,G as m,K as s,U as u};