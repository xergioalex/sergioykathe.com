import{j as I,x as c,D as N,aE as S,H as k,E as F,C as R,F as d,o as E,q as T,u as b,G as q,ae as x,aF as D,a8 as L,a7 as g,aG as C,a9 as G}from"./template.DVlVoHZ-.js";function O(r,f,t=!1){c&&N();var e=r,s=null,a=null,l=x,v=t?S:0,n=!1;const A=(u,i=!0)=>{n=!0,h(i,u)},h=(u,i)=>{if(l===(l=u))return;let _=!1;if(c){const y=e.data===k;!!l===y&&(e=F(),R(e),d(!1),_=!0)}l?(s?E(s):i&&(s=T(()=>i(e))),a&&b(a,()=>{a=null})):(a?E(a):i&&(a=T(()=>i(e))),s&&b(s,()=>{s=null})),_&&d(!0)};I(()=>{n=!1,f(A),n||h(null,null)},v),c&&(e=q)}function o(r,f){return r===f||r?.[G]===f}function Y(r={},f,t,e){return D(()=>{var s,a;return L(()=>{s=a,a=[],g(()=>{r!==t(...a)&&(f(r,...a),s&&o(t(...s),r)&&f(null,...s))})}),()=>{C(()=>{a&&o(t(...a),r)&&f(null,...a)})}}),r}export{Y as b,O as i};
