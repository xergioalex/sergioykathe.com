import"./legacy.BzviR0lY.js";import{h as q,R as H,k as S,l as L,p as O,q as M,z as $,U as j,H as U,A as V,y as X,B as P,C as K,S as Q,T as W,V as Z,W as J,X as ee,O as te,Y as ae,Z as se,_ as oe,$ as ne,a as I,P as ie,g as s,s as g,t as le,e as C,b as re,m as v,c as _,r as w,Q as z,d as ce}from"./render.BgaE2I-1.js";import{o as de,i as fe}from"./index-client.Dbia7Zai.js";function ue(i,d,l=!1){M&&$();var r=i,n=null,o=null,u=j,h=l?H:0,c=!1;const m=(p,f=!0)=>{c=!0,y(f,p)},y=(p,f)=>{if(u===(u=p))return;let b=!1;if(M){const x=r.data===U;!!u===x&&(r=V(),X(r),P(!1),b=!0)}u?(n?S(n):f&&(n=L(()=>f(r))),o&&O(o,()=>{o=null})):(o?S(o):f&&(o=L(()=>f(r))),n&&O(n,()=>{n=null})),b&&P(!0)};q(()=>{c=!1,d(m),c||y(null,null)},h),M&&(r=K)}function F(i,d){return i===d||i?.[ee]===d}function G(i={},d,l,r){return Q(()=>{var n,o;return W(()=>{n=o,o=[],Z(()=>{i!==l(...o)&&(d(i,...o),n&&F(l(...n),i)&&d(null,...n))})}),()=>{J(()=>{o&&F(l(...o),i)&&d(null,...o)})}}),i}var pe=re('<div tabindex="-1" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title"><div class="bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-hidden" role="document"><div class="p-4 border-b flex justify-between items-center"><h3 id="modal-title" class="text-lg font-semibold"> </h3> <button class="text-gray-500 hover:text-gray-700" aria-label="Cerrar mapa">✕</button></div> <div class="h-[400px]"></div></div></div>');function he(i,d){te(d,!1);let l=v(!1),r=v(),n=v(!1),o=v();const u="AIzaSyD5QYaSLWXeOnNtO4HGzOXccmG9LwVDk98",h=[{title:"Ceremonia Principal",location:"Iglesia San José",coordinates:{lat:4.80934,lng:-75.69164,zoom:17}},{title:"Fiesta de Boda",location:"Finca San Francisco",coordinates:{lat:4.83632,lng:-75.76349}}];let c=v(h[0]);function m(){g(l,!1)}async function y(){return typeof window.google>"u"?new Promise(a=>{const t=document.createElement("script");t.src=`https://maps.googleapis.com/maps/api/js?key=${u}`,t.async=!0,t.defer=!0,t.onload=()=>{g(n,!0),a(!0)},document.head.appendChild(t)}):Promise.resolve(!0)}de(()=>{const a=async t=>{g(l,!0),g(c,h[t.detail.index]),s(n)||await y(),setTimeout(p,100)};return document.addEventListener("openMap",a),()=>document.removeEventListener("openMap",a)});function p(){if(s(r)&&s(l)&&window.google){const a=new window.google.maps.Map(s(r),{center:{lat:s(c).coordinates.lat,lng:s(c).coordinates.lng},zoom:18,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1});new window.google.maps.Marker({position:{lat:s(c).coordinates.lat,lng:s(c).coordinates.lng},map:a,title:s(c).title});const t=document.createElement("div"),e=document.createElement("button");e.style.backgroundColor="#fff",e.style.border="2px solid #fff",e.style.borderRadius="3px",e.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",e.style.color="rgb(25,25,25)",e.style.cursor="pointer",e.style.fontFamily="Roboto,Arial,sans-serif",e.style.fontSize="16px",e.style.lineHeight="38px",e.style.margin="8px 0 22px 12px",e.style.padding="0 5px",e.style.textAlign="center",e.textContent="Abrir en Google Maps",e.addEventListener("click",()=>{window.open(x(s(c)),"_blank")}),t.appendChild(e),a.controls[window.google.maps.ControlPosition.TOP_LEFT].push(t)}}function f(a){a.target===a.currentTarget&&m()}function b(a){a.key==="Escape"&&m()}function x(a){const{lat:t,lng:e}=a.coordinates;return`https://www.google.com/maps?q=${t},${e}`}ae(()=>(s(l),s(n)),()=>{s(l)&&s(n)&&setTimeout(p,100)}),se(),fe();var A=oe(),R=ne(A);{var N=a=>{var t=pe(),e=_(t),k=_(e),E=_(k),B=_(E,!0);w(E);var D=z(E,2);w(k);var Y=z(k,2);G(Y,T=>g(r,T),()=>s(r)),w(e),w(t),G(t,T=>g(o,T),()=>s(o)),le(()=>ce(B,s(c).title)),C("click",D,m),C("click",t,f),C("keydown",t,b),I(a,t)};ue(R,a=>{s(l)&&a(N)})}I(i,A),ie()}export{he as default};
