import{x as h,W as T,X as C,Y as I,Z as V,_ as B,$ as E,a0 as M,a1 as Y,a2 as q,a3 as z,a4 as D}from"./template.DVlVoHZ-.js";import{c as G}from"./attributes.Jce5emvo.js";function W(e){if(h){var t=!1,l=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var l=e.value;n(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var s=e.checked;n(e,"checked",null),e.checked=s}}};e.__on_r=l,T(l),C()}}function K(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function n(e,t,l,s){var a=e.__attributes??={};h&&(a[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)||a[t]!==(a[t]=l)&&("style"===t&&"__styles"in e&&(e.__styles={}),"loading"===t&&(e[q]=l),null==l?e.removeAttribute(t):"string"!=typeof l&&$(e).includes(t)?e[t]=l:e.setAttribute(t,l))}function X(e,t,l,s,a=!1,u=!1,r=!1){var i=t||{},f="OPTION"===e.tagName;for(var c in t)c in l||(l[c]=null);l.class&&(l.class=G(l.class));var o=$(e),v=e.__attributes??={};for(const t in l){let s=l[t];if(f&&"value"===t&&null==s)e.value=e.__value="",i[t]=s;else{var _=i[t];if(s!==_){i[t]=s;var d=t[0]+t[1];if("$$"!==d){if("on"===d){const l={},a="$$"+t;let u=t.slice(2);var m=z(u);if(I(u)&&(u=u.slice(0,-7),l.capture=!0),!m&&_){if(null!=s)continue;e.removeEventListener(u,i[a],l),i[a]=null}if(null!=s)if(m)e[`__${u}`]=s,B([u]);else{let s=function(e){i[t].call(this,e)};i[a]=V(u,e,s,l)}else m&&(e[`__${u}`]=void 0)}else if("style"===t&&null!=s)e.style.cssText=s+"";else if("autofocus"===t)E(e,!!s);else if("__value"===t||"value"===t&&null!=s)e.value=e[t]=e.__value=s;else if("selected"===t&&f)K(e,s);else{var b=t;a||(b=M(b));var p="defaultValue"===b||"defaultChecked"===b;if(null!=s||u||p)p||o.includes(b)&&(u||"string"!=typeof s)?e[b]=s:"function"!=typeof s&&(h&&("src"===b||"href"===b||"srcset"===b)||n(e,b,s));else if(v[t]=null,"value"===b||"checked"===b){let t=e;if("value"===b){let e=t.defaultValue;t.removeAttribute(b),t.defaultValue=e}else{let e=t.defaultChecked;t.removeAttribute(b),t.defaultChecked=e}}else e.removeAttribute(t)}"style"===t&&"__styles"in e&&(e.__styles={})}}}}return i}var N=new Map;function $(e){var t=N.get(e.nodeName);if(t)return t;N.set(e.nodeName,t=[]);for(var l,s=e,a=Element.prototype;a!==s;){for(var u in l=D(s))l[u].set&&t.push(u);s=Y(s)}return t}export{W as r,X as s};